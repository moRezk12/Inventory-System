"use strict";(self.webpackChunkInventoryManagementSystem=self.webpackChunkInventoryManagementSystem||[]).push([[289],{6289:(x,m,d)=>{d.r(m),d.d(m,{ProductlistComponent:()=>j});var u=d(177),r=d(4341),p=d(303),_=d(8032),a=d.n(_),t=d(540),h=d(332);function f(i,c){if(1&i){const e=t.RV6();t.j41(0,"tr",8)(1,"td",12),t.EFF(2),t.k0s(),t.j41(3,"td",9),t.EFF(4),t.k0s(),t.j41(5,"td",9),t.EFF(6),t.k0s(),t.j41(7,"td"),t.EFF(8),t.k0s(),t.j41(9,"td",13)(10,"button",14),t.bIt("click",function(){const l=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.openShowModal(l))}),t.EFF(11,"Show"),t.k0s(),t.j41(12,"button",15),t.bIt("click",function(){const l=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.openEditModal(l))}),t.EFF(13,"Edit"),t.k0s(),t.j41(14,"button",16),t.bIt("click",function(){const l=t.eBV(e).$implicit,s=t.XpG();return t.Njj(s.deleteProduct(l.id))}),t.EFF(15,"Delete"),t.k0s()()()}if(2&i){const e=c.$implicit;t.R7$(2),t.JRh(e.name),t.R7$(2),t.JRh(e.description),t.R7$(2),t.JRh(e.quantity),t.R7$(2),t.JRh(e.price)}}function v(i,c){1&i&&(t.j41(0,"div",33),t.EFF(1," Product name is required. "),t.k0s())}function P(i,c){1&i&&(t.j41(0,"div",33),t.EFF(1," Product name must be at least 3 characters. "),t.k0s())}function F(i,c){if(1&i&&(t.j41(0,"div",33),t.DNE(1,v,2,0,"div",26),t.DNE(2,P,2,0,"div",26),t.k0s()),2&i){const e=t.XpG(2);let n,o;t.R7$(1),t.Y8G("ngIf",null==(n=e.editForm.get("name"))||null==n.errors?null:n.errors.required),t.R7$(1),t.Y8G("ngIf",(null==(o=e.editForm.get("name"))||null==o.errors?null:o.errors.minlength)&&(null==(o=e.editForm.get("name"))?null:o.touched))}}function b(i,c){1&i&&(t.j41(0,"div",33),t.EFF(1," Description is required. "),t.k0s())}function g(i,c){if(1&i&&(t.j41(0,"div",33),t.DNE(1,b,2,0,"div",26),t.k0s()),2&i){const e=t.XpG(2);let n;t.R7$(1),t.Y8G("ngIf",null==(n=e.editForm.get("description"))||null==n.errors?null:n.errors.required)}}function k(i,c){1&i&&(t.j41(0,"div",33),t.EFF(1," Quantity must be 0 or more. "),t.k0s())}function E(i,c){1&i&&(t.j41(0,"div",33),t.EFF(1," Price must be 0 or more. "),t.k0s())}const C=function(i){return{"d-none":i}};function y(i,c){if(1&i){const e=t.RV6();t.j41(0,"div",17),t.nrm(1,"div",18),t.j41(2,"div",19)(3,"form",20),t.bIt("ngSubmit",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.onUpdateProduct())}),t.j41(4,"div",21)(5,"h5",22),t.EFF(6,"Edit Product"),t.k0s(),t.j41(7,"button",23),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.closePopup())}),t.k0s()(),t.j41(8,"div",24)(9,"div",2)(10,"label"),t.EFF(11,"Product Name"),t.k0s(),t.nrm(12,"input",25),t.DNE(13,F,3,2,"div",26),t.k0s(),t.j41(14,"div",2)(15,"label"),t.EFF(16,"Description"),t.k0s(),t.nrm(17,"input",27),t.DNE(18,g,2,1,"div",26),t.k0s(),t.j41(19,"div",2)(20,"label"),t.EFF(21,"Quantity"),t.k0s(),t.nrm(22,"input",28),t.DNE(23,k,2,0,"div",26),t.k0s(),t.j41(24,"div",2)(25,"label"),t.EFF(26,"Price"),t.k0s(),t.nrm(27,"input",29),t.DNE(28,E,2,0,"div",26),t.k0s()(),t.j41(29,"div",30)(30,"button",31),t.bIt("click",function(){t.eBV(e);const o=t.XpG();return t.Njj(o.closePopup())}),t.EFF(31,"Cancel"),t.k0s(),t.j41(32,"button",32),t.EFF(33,"Save Changes"),t.k0s()()()()()}if(2&i){const e=t.XpG();let n,o,l,s;t.R7$(3),t.Y8G("formGroup",e.editForm),t.R7$(9),t.Y8G("readOnly",e.show),t.R7$(1),t.Y8G("ngIf",(null==(n=e.editForm.get("name"))?null:n.touched)&&(null==(n=e.editForm.get("name"))?null:n.invalid)),t.R7$(4),t.Y8G("readOnly",e.show),t.R7$(1),t.Y8G("ngIf",(null==(o=e.editForm.get("description"))?null:o.touched)&&(null==(o=e.editForm.get("description"))?null:o.invalid)),t.R7$(4),t.Y8G("readOnly",e.show),t.R7$(1),t.Y8G("ngIf",(null==(l=e.editForm.get("quantity"))?null:l.touched)&&(null==(l=e.editForm.get("quantity"))?null:l.invalid)),t.R7$(4),t.Y8G("readOnly",e.show),t.R7$(1),t.Y8G("ngIf",((null==(s=e.editForm.get("price"))?null:s.touched)||(null==(s=e.editForm.get("price"))?null:s.dirty))&&(null==(s=e.editForm.get("price"))?null:s.invalid)),t.R7$(1),t.Y8G("ngClass",t.eq3(11,C,!0===e.show)),t.R7$(3),t.Y8G("disabled",e.editForm.invalid)}}let j=(()=>{class i{constructor(e,n){this._productService=e,this.fb=n,this.products=[],this.filteredProducts=[],this.searchProduct="",this.isPopupOpen=!1,this.show=!1,this.editForm=this.fb.group({name:["",[r.k0.required,r.k0.minLength(3)]],description:["",r.k0.required],quantity:["",[r.k0.required,r.k0.min(0)]],price:["",[r.k0.required,r.k0.min(0)]]})}ngOnInit(){this.getAllProducts()}getAllProducts(){this._productService.getAllProducts().subscribe({next:e=>{this.products=e,this.filteredProducts=e},error:e=>{console.log(e)}})}deleteProduct(e){a().fire({title:"Are you sure?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!",cancelButtonText:"Cancel"}).then(n=>{n.isConfirmed&&this._productService.deleteProduct(e).subscribe(()=>{this.getAllProducts(),a().fire("Success!","Deleted!","success")})})}searchProducts(){const e=this.searchProduct.toLowerCase();this.filteredProducts=this.products.filter(n=>n.name.toLowerCase().includes(e))}openEditModal(e){this.isPopupOpen=!0,this.selectedProductId=e.id,this.editForm.patchValue({name:e.name,description:e.description,quantity:e.quantity,price:e.price})}onUpdateProduct(){if(this.editForm.valid){const e={id:this.selectedProductId,...this.editForm.value};this._productService.updateProduct(this.selectedProductId,e).subscribe(()=>{this.getAllProducts(),this.closePopup(),a().fire({title:"Success!",text:"Product updated successfully.",icon:"success",confirmButtonText:"OK"})})}}closePopup(){this.isPopupOpen=!1,this.show=!1}openShowModal(e){this.show=!0,this.isPopupOpen=!0,this.editForm.patchValue({name:e.name,description:e.description,quantity:e.quantity,price:e.price})}static{this.\u0275fac=function(n){return new(n||i)(t.rXU(h.g),t.rXU(r.ok))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-productlist"]],standalone:!0,features:[t.aNF],decls:24,vars:3,consts:[[1,"container","mt-3","position-relative"],[1,"text-center","mb-4"],[1,"mb-3"],["type","text","placeholder","Search products by name...",1,"form-control",3,"ngModel","ngModelChange","input"],[1,"mb-3","text-end"],["routerLink","/addproduct",1,"btn","btn-primary"],[1,"table","table-bordered"],[1,"table-dark"],[1,"text-center"],[1,"d-none","d-md-table-cell"],["class","text-center",4,"ngFor","ngForOf"],["class","position-fixed top-0 start-0  d-flex justify-content-center align-items-center","style","z-index: 1000000; height: 100vh; width: 100vw;",4,"ngIf"],[1,"text-break"],[1,""],[1,"btn","btn-sm","btn-info","me-2","d-table-cell","d-md-none",3,"click"],[1,"btn","btn-sm","btn-warning","me-2",3,"click"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"position-fixed","top-0","start-0","d-flex","justify-content-center","align-items-center",2,"z-index","1000000","height","100vh","width","100vw"],[1,"position-fixed","top-0","start-0","bg-black","opacity-50",2,"height","100vh","width","100vw"],[1,"modal-content","bg-dark","text-white","m-2","rounded","p-4"],[3,"formGroup","ngSubmit"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],["id","editModalLabel",1,"modal-title"],[1,"btn-close","btn-close-white",3,"click"],[1,"modal-body"],["type","text","formControlName","name",1,"form-control","my-2",3,"readOnly"],["class","text-danger",4,"ngIf"],["type","text","formControlName","description",1,"form-control","my-2",3,"readOnly"],["type","number","formControlName","quantity",1,"form-control","my-2",3,"readOnly"],["type","number","formControlName","price",1,"form-control","my-2",3,"readOnly"],[1,"modal-footer",3,"ngClass"],["type","button",1,"btn","btn-secondary","me-3",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-danger"]],template:function(n,o){1&n&&(t.j41(0,"div",0)(1,"h2",1),t.EFF(2,"Inventory Management System"),t.k0s(),t.j41(3,"div",2)(4,"input",3),t.bIt("ngModelChange",function(s){return o.searchProduct=s})("input",function(){return o.searchProducts()}),t.k0s()(),t.j41(5,"div",4)(6,"a",5),t.EFF(7,"Add Product"),t.k0s()(),t.j41(8,"table",6)(9,"thead",7)(10,"tr",8)(11,"th"),t.EFF(12," Name"),t.k0s(),t.j41(13,"th",9),t.EFF(14,"Description"),t.k0s(),t.j41(15,"th",9),t.EFF(16,"Quantity"),t.k0s(),t.j41(17,"th"),t.EFF(18,"Price"),t.k0s(),t.j41(19,"th"),t.EFF(20,"Actions"),t.k0s()()(),t.j41(21,"tbody"),t.DNE(22,f,16,4,"tr",10),t.k0s()()(),t.DNE(23,y,34,13,"div",11)),2&n&&(t.R7$(4),t.Y8G("ngModel",o.searchProduct),t.R7$(18),t.Y8G("ngForOf",o.filteredProducts),t.R7$(1),t.Y8G("ngIf",o.isPopupOpen))},dependencies:[u.MD,u.YU,u.Sq,u.bT,p.iI,p.Wk,r.YN,r.qT,r.me,r.Q0,r.BC,r.cb,r.vS,r.X1,r.j4,r.JD],styles:[".modal-content[_ngcontent-%COMP%]{width:75%}@media (max-width: 768px){.modal-content[_ngcontent-%COMP%]{width:100%}}"]})}}return i})()}}]);